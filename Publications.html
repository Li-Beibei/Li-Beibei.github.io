<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1.0,user-scalable=no" />
        <meta http-equiv="Cache-Control" content="no-store" />
        <meta name="format-detection" content="telephone=no">
        <link href='css/ogn.css' rel="stylesheet" type="text/css"/>
        <title></title>
    </head>
    <body onload="loadHtml()" style="background-color: purple;"  onorientationchange="onOrientationChanged()">
        <div id="rootDiv" style="background-color:#49C5E7;background-position-y:100%; background-image:url('images/wx_06.png');background-size:100% auto; background-repeat:no-repeat; width: 100%;height:auto;position: absolute;left: 0px;top: 0px;">
            <div id="headDiv">
                <div id="headDiv" style="height: 200px;background: red;opacity: 1;" >
                    <label style="display: block;text-align: center;line-height: 200px;font-size: 30px;color:white;">A</label>
                </div>
                <div id="middleDiv" style="height: 100px;background: green;opacity: 1;">
                    <label style="display: block;text-align: center;line-height: 100px;font-size: 30px;color:white;">B</label>
                </div>
                <div id="footerDiv" style="height: 250px;background: blue;opacity: 1;">
                    <label style="display: block;text-align: center;line-height: 100px;font-size: 30px;color:white;">C</label>
                </div>
            </div>

            <div id="gapDiv" style="height: 0px;background: black;opacity: 0.5">
                <label id="label1" style="display: block;text-align: center;line-height: 100%;font-size: 30px;color:white;">D</label>
            </div>
            <label id="label0" style="text-align: center;display: block;width: 100%;margin-bottom: 0px;">页面最后一行文字</label>
        </div>
    </body>
</html>
<script src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>

<script>
    function loadHtml() {
        upadateHtml();
    }
    function onOrientationChanged() {
        upadateHtml();
    }
    function upadateHtml() {
        setTimeout(function() {
            var headH = $('#headDiv').height();
            alert(headH);
            var deviceH = document.documentElement.clientHeight;//可用的设备高度
            alert(deviceH);
            var labelH = $('#label0').height();
            var realH = labelH + headH;
            alert(realH)
            if (realH < deviceH) {
                $('#gapDiv').css('height', deviceH - realH + 'px');
                $('#label1').css('line-height',deviceH - realH + 'px');
                $('#gapDiv').css('display','block');
            } else {
                $('#gapDiv').css('height', 0 + 'px');
                $('#gapDiv').css('display','none');
                $('#label1').css('line-height',-+'px');
            }
            alert(gapDiv.scrollHeight)
            var pageH=document.body.scrollHeight;//页面的实际高度
        }, 100);
    }
</script>